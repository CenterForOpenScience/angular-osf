<p-card>
  <div class="flex justify-content-between align-items-center">
    <h2>
      {{
        (isProject() ? 'project.overview.metadata.projectDOI' : 'project.overview.metadata.publicationDOI') | translate
      }}
    </h2>

    @if (!hideEditDoi()) {
      <p-button
        severity="secondary"
        [label]="'common.buttons.edit' | translate"
        (onClick)="openEditPublicationDoiDialog.emit()"
        data-test-edit-doi-button
      ></p-button>
    }
  </div>

  @if (isProject()) {
    @if (identifiers() && identifiers().length) {
      <div class="mt-4">
        @for (identifier of identifiers()!; track identifier.id) {
          @if (identifier.category === 'doi') {
            <a class="font-bold" [href]="doiHost + identifier.value" target="_blank">
              {{ doiHost + identifier.value }}
            </a>
          }
        }
      </div>
    } @else {
      <div class="mt-4">
        <p>{{ 'project.overview.metadata.noProjectDoi' | translate }}</p>
      </div>
    }
  } @else {
    <div class="mt-4">
      @if (publicationDoi()) {
        <a class="font-bold" [href]="doiHost + publicationDoi()" target="_blank">
          {{ doiHost + publicationDoi() }}
        </a>
      } @else {
        <p>{{ 'project.overview.metadata.noPublicationDoi' | translate }}</p>
      }
    </div>
  }
</p-card>
