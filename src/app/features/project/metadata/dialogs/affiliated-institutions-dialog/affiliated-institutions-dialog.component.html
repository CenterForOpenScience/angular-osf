<form [formGroup]="affiliatedInstitutionsForm" (ngSubmit)="save()" class="flex flex-column gap-4">
  <div class="flex flex-column gap-3">
    @for (institution of institutions; track institution.id; let i = $index) {
      <div class="flex align-items-center gap-2">
        <p-checkbox
          [formArrayName]="'institutions'"
          [formControlName]="i"
          [binary]="true"
          [inputId]="'institution-' + i"
        />
        <label [for]="'institution-' + i" class="cursor-pointer">
          {{ institution.name | translate }}
        </label>
      </div>
    }
  </div>

  <div class="flex justify-content-end gap-2">
    <p-button type="button" severity="secondary" [label]="'common.buttons.cancel' | translate" (click)="cancel()" />
    <p-button type="submit" [label]="'common.buttons.save' | translate" />
  </div>
</form>
