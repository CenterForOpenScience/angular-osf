<div class="p-4 flex flex-column gap-3">
  <div class="flex justify-content-between">
    <h2>{{ 'project.files.detail.fileMetadata.title' | translate }}</h2>

    <div class="flex gap-2">
      <p-button severity="secondary" (click)="downloadFileMetadata()">
        <i class="fas fa-download p-1"></i>
      </p-button>

      <p-button
        severity="secondary"
        (click)="openEditFileMetadataDialog()"
        [label]="'project.files.detail.fileMetadata.edit' | translate"
      ></p-button>
    </div>
  </div>

  @if (isLoading()) {
    <p-skeleton width="100%" height="4rem" />
    <p-skeleton width="100%" height="4rem" />
    <p-skeleton width="100%" height="4rem" />
    <p-skeleton width="100%" height="4rem" />
  } @else {
    @for (field of metadataFields; track field.key) {
      @if (fileMetadata()?.[field.key]) {
        <div class="flex flex-column gap-2">
          <h4>{{ field.label | translate }}</h4>
          <p>{{ fileMetadata()?.[field.key] }}</p>
        </div>
      }
    }
  }
</div>
