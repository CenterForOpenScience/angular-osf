<div [class.wiki-list-expanded]="expanded()" class="wiki-list">
  @if (expanded()) {
    <p-panel showHeader="false">
      <div class="flex aign-items-center justify-content-between mt-3 mb-2">
        <p-button
          label="Add new Wiki page"
          icon="pi pi-plus"
          class="btn-icon-text-success"
          (click)="openAddWikiDialog()"
        />
        <p-button class="btn-icon" icon="fas fa-backward" (click)="collapseNavigation()"> </p-button>
      </div>
      <div class="flex flex-column justify-center">
        @if (isLoading()) {
          <p-skeleton width="100%" height="2.5rem" class="mb-2" />
          <p-skeleton width="100%" height="1.5rem" class="mb-2" />
          <p-skeleton width="100%" height="1.5rem" class="mb-4" />

          <p-skeleton width="100%" height="2.5rem" class="mb-2" />
          <p-skeleton width="100%" height="1.5rem" class="mb-2" />
          <p-skeleton width="100%" height="1.5rem" class="mb-2" />
        } @else {
          <p-panelmenu [model]="wikiMenu()" [multiple]="true" class="w-full">
            <ng-template #item let-item>
              <div class="flex align-items-center p-2 cursor-pointer">
                @switch (item.type) {
                  @case (wikiItemType.Folder) {
                    <i [class]="item.expanded ? 'fa-minus' : 'fa-plus'" class="fas text-xs mr-1"></i>
                    <i [class]="item.expanded ? 'fas fa-folder-open' : 'fas fa-folder'"></i>
                    <h3 class="ml-2">{{ item.label }}</h3>
                  }
                  @case (wikiItemType.Component) {
                    <!-- <i [class]="item.expanded ? 'fa-minus' : 'fa-plus'" class="fas text-xs mr-1"></i> -->
                    <i class="fa-solid fa-file-lines"></i>
                    <span class="ml-2">{{ item.label }}</span>
                  }
                  @default {
                    <i class="far fa-file"></i>
                    <span class="ml-2">{{ item.label }}</span>
                  }
                }
              </div>
            </ng-template>
          </p-panelmenu>
        }
      </div>
    </p-panel>
  } @else {
    <div class="mb-2">
      <p-button class="btn-icon" (click)="collapseNavigation()">
        <i class="fas fa-list-ul"></i>
        <i class="fas fa-forward"></i>
      </p-button>
    </div>
    <p-button icon="pi pi-plus" class="btn-icon-text-success" (click)="openAddWikiDialog()" />
  }
</div>
