<osf-sub-header [title]="'project.linkedServices.title' | translate" />
<section class="flex-column flex flex-1 bg-white p-3 sm:p-5">
  @if (isLoading()) {
    <div class="flex-1">
      <osf-loading-spinner />
    </div>
  } @else if (configuredLinkAddons().length) {
    <p-table [value]="configuredLinkAddons()">
      <ng-template #header>
        <tr>
          <th>
            {{ 'project.linkedServices.table.linkedService' | translate }}
          </th>
          <th>
            {{ 'project.linkedServices.table.displayName' | translate }}
          </th>
          <th>
            {{ 'project.linkedServices.table.resourceType' | translate }}
          </th>
          <th>
            {{ 'project.linkedServices.table.link' | translate }}
          </th>
        </tr>
      </ng-template>

      <ng-template #body let-item>
        <tr>
          <td>{{ item.externalServiceName }}</td>
          <td>{{ item.displayName }}</td>
          <td>{{ item.resourceType }}</td>
          <td>
            <p-button
              class="p-button-link"
              [label]="'project.linkedServices.table.openLink' | translate"
              icon="fas fa-external-link-alt"
              (click)="openLink(item.targetUrl)"
            >
            </p-button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  } @else {
    <div class="flex align-items-center justify-content-center flex-column flex-1 text-center gap-3">
      <p>
        {{ 'project.linkedServices.noLinkedServices' | translate }}
      </p>
      <p>
        {{ 'project.linkedServices.redirectMessage' | translate }}
        <a routerLink="../addons">
          {{ 'project.linkedServices.addonsLink' | translate }}
        </a>
        {{ 'project.linkedServices.redirectMessageSuffix' | translate }}
      </p>
    </div>
  }
</section>
