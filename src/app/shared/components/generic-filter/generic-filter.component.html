<div class="content-body filter dropdown-filter pb-4 z-5">
  @if (isLoading()) {
    <div class="flex justify-content-center align-items-center p-4">
      <osf-loading-spinner />
    </div>
  } @else {
    <p-multiSelect
      [id]="filterOperator()"
      [options]="filterOptions()"
      optionLabel="label"
      optionValue="value"
      [ngModel]="selectedOptionValues()"
      [placeholder]="placeholder()"
      styleClass="w-full"
      appendTo="body"
      filter
      resetFilterOnHide="false"
      [showToggleAll]="false"
      [virtualScroll]="true"
      [virtualScrollItemSize]="40"
      scrollHeight="200px"
      [autoOptionFocus]="false"
      [loading]="isPaginationLoading() || isSearchLoading()"
      (onFilter)="onFilterChange($event)"
      (onChange)="onMultiChange($event)"
      (onLazyLoad)="loadMoreItems($event)"
    >
      <ng-template #item let-item>
        <p class="text-base">{{ item.label }} ({{ item.cardSearchResultCount }})</p>
      </ng-template>
    </p-multiSelect>
  }
</div>
