<div class="flex flex-column gap-2">
  @let resourceValue = resource();
  @if (resourceValue.description) {
    <p>{{ 'resourceCard.labels.description' | translate }} {{ resourceValue.description }}</p>
  }

  @if (resourceValue.funders.length > 0) {
    <p>
      {{ 'resourceCard.labels.funder' | translate }}
      @for (funder of resourceValue.funders.slice(0, limit); track $index) {
        <a class="font-bold" [href]="funder.absoluteUrl" target="_blank">{{ funder.name }}{{ $last ? '' : ', ' }}</a>
      }
      @if (resourceValue.funders.length > limit) {
        <span>{{ 'resourceCard.andCountMore' | translate: { count: resourceValue.funders.length - limit } }} </span>
      }
    </p>
  }

  @if (resourceValue.provider) {
    <p>
      {{ 'resourceCard.labels.provider' | translate }}
      <a class="font-bold" [href]="resourceValue.provider!.absoluteUrl">{{ resourceValue.provider!.name }}</a>
    </p>
  }

  @if (resourceValue.registrationTemplate) {
    <p>{{ 'resourceCard.labels.registrationTemplate' | translate }} {{ resourceValue.registrationTemplate }}</p>
  }

  @if (resourceValue.license) {
    <p>
      {{ 'resourceCard.labels.license' | translate }}
      <a class="font-bold" [attr.href]="resourceValue.license.absoluteUrl || null">{{ resourceValue.license!.name }}</a>
    </p>
  }

  @if (resourceValue.absoluteUrl) {
    <p>
      {{ 'resourceCard.labels.url' | translate }}
      <a class="font-bold" [href]="resourceValue.absoluteUrl">{{ resourceValue.absoluteUrl }}</a>
    </p>
  }

  @let limit = 4;
  @if (resourceValue.doi.length > 0) {
    <p>
      {{ 'resourceCard.labels.doi' | translate }}
      @for (doi of resourceValue.doi.slice(0, limit); track $index) {
        <a class="font-bold" [href]="doi" target="_blank">{{ doi }}{{ $last ? '' : ', ' }}</a>
      }
      @if (resourceValue.doi.length > limit) {
        <span>{{ 'resourceCard.andCountMore' | translate: { count: resourceValue.doi.length - limit } }} </span>
      }
    </p>
  }
</div>
